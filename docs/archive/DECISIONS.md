ุชู ุงูุงุณุชูุนุงุจ ุงููุงูู ููู ุงููุฑุงุฑุงุช ุงูุชู ููุช ุจุญุณููุงุ ูุณุฃููู ุงูุขู ุจุชุญุฏูุซ **ูุงุฆูุฉ ุงูุฃุณุฆูุฉ ุงูุฃุณุงุณูุฉ ุงูุฑุณููุฉ** ูุน:

* **ุงุนุชูุงุฏ ูู ุงูุฅุฌุงุจุงุช ุงูููุงุฆูุฉ ุงูุชู ูุฏูุชูุง ุฃูุช ูู ุฑุณุงูุชู.**
* **ูุถุน ุงูุฎูุงุฑุงุช/ุงูุฃูุซูุฉ ููุท ููุฃุณุฆูุฉ ุงูุชู ูุง ุฒุงูุช ููุชูุญุฉ.**
* **ุฏูุฌ ุฌููุน ุงูุณูุงุณุงุช ุงูุจูููุฉ** (Oracle/Views/Read-Only/LLM Router/Security).
* **ุชูุญูุฏ ุงููุฑุงุฑุงุช ูู ุดูู PDR ูุงุญุฏ ุฑุณูู** ูููู ุงุนุชูุงุฏู ููุซููุฉ ุฃุณุงุณ (Baseline).

---

# โ **ุงููุงุฆูุฉ ุงูููุงุฆูุฉ ุงููุนุชูุฏุฉ (PDR โ Final Project Decision Record)**

### *ูุฐู ูู ุงููุณุฎุฉ ุงูุฑุณููุฉ ุงูุชู ุชู ุฏูุฌ ูููุง ูู ุฑุฏูุฏู ุงูุฃุฎูุฑุฉ.*

---

# 1) **ูุตุงุฏุฑ ุงูุจูุงูุงุช (Data Sources)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุจูุฆุฉ ุงูุชุทููุฑ **DEV** โ ุชุณุชุฎุฏู **SQLite** (ููู `./mydb.db`).
* ุจูุฆุฉ ุงูุฅูุชุงุฌ **PROD** ุงูุจูููุฉ โ ุชุณุชุฎุฏู **Oracle Database** ูุจุงุดุฑุฉ.
* ูุง ุชูุฌุฏ ูุฑุญูุฉ PostgreSQL ูุณูุทุฉ ุฅูุง ุฅุฐุง ุชุทูุจูุง ุงูุจูู.

### โ **ุบูุฑ ูุญุณูู ุจุนุฏ:**

* ุฅุถุงูุฉ MSSQL/PostgreSQL ูู ุจูุฆุงุช ุบูุฑ ุจูููุฉ โ ุญุณุจ ุงูุญุงุฌุฉ.

---

# 2) **ุชุดุบูู ุงูุชุทุจูู (Backend Runtime)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุงูุงุนุชูุงุฏ ุนูู **FastAPI** ูุฎุงุฏู ุฃุณุงุณู.
* ุชุดุบูู ุงููุธุงู ุญุงููุงู ุนุจุฑ **Systemd Service** ุนูู Ubuntu.
* ุงูุชุญูู ุฅูู **Docker Compose** ููุท ุนูุฏ ุฅุถุงูุฉ Superset/Redis.

### โ **ุบูุฑ ูุญุณูู ุจุนุฏ:**

* ูู ุณูุชู ุงุนุชูุงุฏ Kubernetes ูู ุจูุฆุฉ ุงูุจููุ

---

# 3) **ูุฒูุฏ ุงูุฐูุงุก ุงูุงุตุทูุงุนู (LLM Provider + Routing)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุงููููุฐุฌ ุงูุงูุชุฑุงุถู: **Google Gemini 2.5 Flash**.
* ุงููููุฐุฌ ุงูุงุญุชูุงุทู โPlan Bโ: **OpenAI GPT-4o**.
* ูุง ูุชู ุงุณุชุฎุฏุงู OpenRouter ุฅุทูุงูุงู (ูุฑููุถ ูู ุงูุฃูุธูุฉ ุงูุจูููุฉ).
* ุจูุงุก **Logic Router ุฏุงุฎูู**:

  * ุงุจุฏุฃ ุจู Gemini
  * ุฅุฐุง ูุดู โ ุงูุชูู ุฅูู GPT-4o
  * ุจุฏูู ูุณูุท ุฎุงุฑุฌู

### โ **ุบูุฑ ูุญุณูู ุจุนุฏ:**

* ุงุฎุชูุงุฑ ูููุฐุฌ ูุญูู ูู Ollama ุนูุฏ ุฏุฎูู ุงูุจูู ุฑุณููุงู (Llama 3 / Mixtral).

---

# 4) **ุฐุงูุฑุฉ ุงููููู (Vector Memory / RAG)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุงูุงุนุชูุงุฏ ุนูู **ChromaDB** ููุท.
* ุนุฏู ุงุณุชุฎุฏุงู Pinecone/Qdrant (ูุฃููุง ุฎุงุฑุฌูุฉ ูุณุญุงุจูุฉ).
* ุญูุธ ุงูุฐุงูุฑุฉ ูู ูุฌูุฏ ูุญูู ุฏุงุฎู ูุดุฑูุนู.

---

# 5) **ุงูุฅุนุฏุงุฏุงุช ูุงูุจูุฆุฉ (.env Source of Truth)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* `.env` ูู **ุงููุตุฏุฑ ุงููุญูุฏ ุงูุตุญูุญ** ูุฌููุน ุงูุฅุนุฏุงุฏุงุช:

  * ููุงุชูุญ LLM
  * ุฅุนุฏุงุฏุงุช Oracle
  * ูุถุน ุงูุชุดุบูู (DEV/PROD)
  * ุฅุนุฏุงุฏุงุช Superset ุงููุณุชูุจููุฉ

---

# 6) **ุงููุตุงุฏูุฉ ูุงูุตูุงุญูุงุช (Auth / RBAC)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุงููุฑุญูุฉ ุงูุญุงููุฉ โ **Cookie-based Simple Auth**.
* ุงูุฃุฏูุงุฑ ุงููุณููุญ ุจูุง:

  * `admin`
  * `user`
* ุงููุฑุญูุฉ ุงูุจูููุฉ โ **Keycloak/LDAP Integration**.

### โ **ุบูุฑ ูุญุณูู ุจุนุฏ:**

* ูู ูุถูู JWT ูุคูุชุงู ุจูู DEV ู UATุ

---

# 7) **ูุงุฌูุฉ ุงููุณุชุฎุฏู (UI / Frontend)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุงููุงุฌูุฉ ุงูุงูุชุฑุงุถูุฉ: **Vanna Web Component `<vanna-chat>`**

* ุฏุงุฎู ููู HTML ูุณุชูู: `index.html`

* ุงููุงุฌูุฉ ูุงุจูุฉ ููุงุณุชุจุฏุงู ุจุฏูู ุชุบููุฑ ุงูุจุงููุฏ.

* ุงูุฅุตุฏุงุฑ ุงููุงุฏู (v2) โ **React + Tailwind + shadcn** ูุจูุงุก ููุญุฉ ุฅุฏุงุฑุฉ ูุชูุฏูุฉ.

---

# 8) **ุงูุชุฏุฑูุจ (Training / RAG Ingestion)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุงูุชุฏุฑูุจ ููุณ ุฌุฒุกุงู ุฃุณุงุณูุงู ูู Vanna.
* **Training Tool ูุฎุตุต + ุฒุฑ Admin** ุฏุงุฎู ุงููุงุฌูุฉ (ุงุฎุชูุงุฑู).
* ูุง ููุฌุฏ ุณูุฑุจุช ุชุฏุฑูุจ ูุณุชูู.

### โ **ุณูุงุณุฉ Oracle ุงูุจูููุฉ:**

* ุงูุชุฏุฑูุจ ูุณููุญ ููุท ุนูู Views ุชุจุฏุฃ ุจู `V_AI_`.

---

# 9) **ุงูุฃูุงู ุงูุจููู (Security Model)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ูุณุชุฎุฏู ูุงุนุฏุฉ ุงูุจูุงูุงุช Read-Only ููุท.

* ุงููููู ูุชุนุงูู ูุน Views ููุท ูููุณ Tables.

* ููุน ุงูุฃุนูุฏุฉ ุงูุญุณุงุณุฉ ูู ุงูุฎุฑูุฌ ููู LLM (Masking).

* ุฑูุถ ุฃูุงูุฑ:

  * `DELETE`
  * `DROP`
  * `UPDATE`
  * `ALTER`
  * `TRUNCATE`

* ุฅุถุงูุฉ System Prompt Guardrails:

  > *"ุฃูุช ูุญูู ุจูุงูุงุช ููุท. ุชุฑูุถ ุฃู ุทูุจ ูุง ูุชุนูู ุจู SQL ุงูุชุญูููู."*

* ุฅุถุงูุฉ Regex-based Filter ูุจู ุฅุฑุณุงู ุงูุณุคุงู ููู LLM.

---

# 10) **ุงูุณูููุฉ ูุงูุทุจูุฉ ุงูุฏูุงููุฉ (Schema / Semantic Layer)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุงูุงุนุชูุงุฏ ุนูู **Database Comments** ูู Oracle ูุทุจูุฉ ุฏูุงููุฉ ุฑุณููุฉ:

  * `COMMENT ON COLUMN V_AI_TXN.AMT IS '...'`
* ููุฑุณุฉ ุงูุฌุฏุงูู ุงูุฏูุงููุฉ ูุฏููุงู ุฏุงุฎู RAG Tool.
* ุงูุณูุงุณุฉ ุงููุนุชูุฏุฉ:
  **Curated Schema** โ ูุทุงู ุฌุฏุงูู ูุญุฏูุฏุฉ ูููุชูุงุฉ ููุท.

### โ **ุบูุฑ ูุญุณูู ุจุนุฏ:**

* ูู ุณูุชู ุฏุนู YAML Semantic Models ูุงุญูุงู ูุฃู ุณุจุจุ

---

# 11) **ุงููุฑุงูุจุฉ (Observability)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุงููุฑุญูุฉ ุงูุญุงููุฉ โ **Structured JSON Logging**

* ูุชูุงูู ูุน (Splunk / ELK) ูุจุงุดุฑุฉ ุฏูู ุฃู ุชุนุฏูู.

* ุงููุฑุญูุฉ ุงูุจูููุฉ โ ุฅุถุงูุฉ OpenTelemetry (ุชุชุจุน ุงูุงุณุชุนูุงูุงุช ุนุจุฑ distributed tracing).

### โ **ุบูุฑ ูุญุณูู ุจุนุฏ:**

* ูู ูุณุชุฎุฏู Grafana ุฃู Kibana ูููุงุฌูุงุชุ

---

# 12) **ุชูุงูู BI (Business Intelligence Integration)**

### โ **ูุญุณูู ููุงุฆูุงู:**

* ุงููุฑุญูุฉ ุงูุญุงููุฉ: **Vanna Native Charts (Plotly)**
* ุงููุฑุญูุฉ ุงููุงุฏูุฉ: **Apache Superset** ุนุจุฑ Docker Compose
* PowerBI โ ููุท ููุฑุจุท ุนุจุฑ ุฑูุงุจุท (Embedding) ูููุณ ุชูููุฏ ุงูุชูุงุฑูุฑ.

---

# ๐ฏ **ุงููุณุฎุฉ ุงูููุงุฆูุฉ โ ูุงุฆูุฉ ุงูุฃุณุฆูุฉ + ุงููุฑุงุฑุงุช ุงูุฑุณููุฉ**

ูููุง ููู ุงููุงุฆูุฉ ุงูููุงุฆูุฉ ููุง ุทูุจุช:

* **ุงูุฃุณุฆูุฉ ุงููุนููุฉ ุงูุขู ุชูุช ุงูุฅุฌุงุจุฉ ุนูููุง ููุงุฆูุงู**
* **ูู ุณุคุงู ุฃุตุจุญ ูู ูุฑุงุฑ ูุงุถุญ ุฃู ุฎูุงุฑ ูุงุจู ููุชูุณุนุฉ ุฅู ูู ููุญุณู**

```
1. ุฃู ูุงุนุฏุฉ ุจูุงูุงุช ูุณุชุฎุฏูุ
   โ DEV = SQLite ุ PROD = Oracle

2. ููู ูุดุบู ุงููุธุงูุ
   โ Systemd ุงูุขู ุ Docker Compose ูุงุญูุงู

3. ูุง ูู LLM ุงูุฃุณุงุณู ูุงูุงุญุชูุงุทูุ
   โ Gemini Flash + GPT-4o (Logic Router)

4. ุฃู Vector Storeุ
   โ ChromaDB ููุท

5. ูู ุฃูู ุชุฃุชู ุฅุนุฏุงุฏุงุช ุงููุธุงูุ
   โ ููู .env ูู ุงููุตุฏุฑ ุงููุญูุฏ

6. ููู ูุฏูุฑ ุงููุณุชุฎุฏููู ูุงูุตูุงุญูุงุชุ
   โ Cookie Auth (admin/user) โ Keycloak ูุงุญูุงู

7. ูุง ูู ุงููุงุฌูุฉ ุงูุงูุชุฑุงุถูุฉุ
   โ Vanna Web Component โ index.html

8. ููู ูุชู ุงูุชุฏุฑูุจุ
   โ Training Tool + ุฒุฑ Admin ููุท

9. ููู ูุถูู ุงูุฃูุงู ุงูุจูููุ
   โ Views ุชุจุฏุฃ ุจู V_AI_ + Read-Only User + Guardrails

10. ููู ุชูุฏุงุฑ ุงูุทุจูุฉ ุงูุฏูุงููุฉุ
   โ Database Comments + Curated Views

11. ููู ูููุณ ุฃุฏุงุก ุงููุธุงูุ
   โ Structured JSON Logging โ OTel ูุงุญูุงู

12. ูู ูุญุชุงุฌ BI ุฎุงุฑุฌูุ
   โ Native Charts ุงูุขู ุ Superset ูุงุญูุงู
```

---
